/*!
 * auhtor: Luis Eduardo Miranda Barja
 * (C) 2015 - mbarjaedu13@gmail.com
 */
$(function(){$(".manager-menu, .health-sub").addClass("active");$.each($("#custom .del"),function(){$(this).on({click:function(c){c.preventDefault();var d=$(this).data("key"),b=$(this);swal({title:"Está seguro?",text:d.nombre+", será eliminado!",type:"warning",showCancelButton:true,cancelButtonText:"Cancelar",confirmButtonColor:"#d9534f",confirmButtonText:"Eliminar",closeOnConfirm:false},function(){$.post("/centros_salud/eliminar_establecimiento",data={_xsrf:getCookie("_xsrf"),id_cen:d.id},function(e){if(e==false){b.closest("tr").find(".activo").html("Eliminado").end().find(".comunidades").html("0").end().find(".prestaciones").html("0").end().end().remove();swal({title:"Eliminado",text:'El establecimiento de salud "'+d.nombre+'", fué eliminado.',type:"success",confirmButtonText:"Continuar"});}});});}});});var a=$(".breadcrumb").data("key");$("#add").on({click:function(b){b.preventDefault();location.href="/centros_salud/nuevo_establecimiento?id_com="+a.com;}});$(".delete").on({click:function(b){b.preventDefault();swal({title:"Está seguro?",text:a.str+", será inhabilitado!",type:"warning",showCancelButton:true,cancelButtonText:"Cancelar",confirmButtonColor:"#d9534f",confirmButtonText:"Inhabilitar",closeOnConfirm:false},function(){$.post("/comunidades/elimininar_comunidad",data={_xsrf:getCookie("_xsrf"),id_com:a.com},function(c){if(!c){$(".status").text("Inhabilitado");$("#add, .delete").remove();swal({title:"Inhabilitado",text:'La comunidad "'+a.str+'", fué inhabilitado.',type:"success",confirmButtonText:"Continuar"});}});});}});$(".networks").on({click:function(b){b.preventDefault();location.href="/redes_salud/gestion";}});$(".net").on({click:function(b){b.preventDefault();location.href="/municipios/gestion?id_red="+a.red;}});$(".back").on({click:function(b){b.preventDefault();location.href="/comunidades/gestion?id_mup="+a.mup;}});$(".edit").on({click:function(b){b.preventDefault();location.href="/comunidades/modificar_comunidad?id_com="+a.com;}});$("#custom").customPaginator();});