/*!
 * auhtor: Luis Eduardo Miranda Barja
 * (C) 2015 - mbarjaedu13@gmail.com
 */
$(function(){getCookie=function(d){var e=document.cookie.match("\\b"+d+"=([^;]*)\\b");return e?e[1]:undefined;};var b={login:/^(?:[^\s]{6,12})$/,passwd:/^(?=[^\t\n\v\f\r ]*?[A-Z])(?=[^\t\n\v\f\r ]*?[a-z])(?=[^\t\n\v\f\r ]*?[0-9])[^\t\n\v\f\r ]{6,12}$/,ci:/^(?:(?:[1-9][0-9]{5,7})?|(?:[1-9][0-9]{6}[A-Z]))$/,p_names:/^(?:(?:\b[A-ZÁÉÍÓÚÄËÏÖÜÑ](?:'[A-Z])?[a-záéíóúäëïöüñ]+ ?){1,4})$/i,p_lastnames:/^(?:(?:\b(?: ?[Dd]el? ?)?(?: ?La ?)?(?: ?v[ao]n ?)?\b[A-ZÁÉÍÓÚÄËÏÖÜÑ](?:'[A-Z])?[a-záéíóúäëïöüñ]+ ?){1,2})$/i,profession:/^(?:(?:\b[A-ZÁÉÍÓÚÄËÏÖÜÑ][a-záéíóúäëïöüñ]+(?:(?:\.? [A-Z]+)?(?: ?[Dd]el?)?(?: ?[Ll][ao]s?)?(?: ?en)?)? ?)+)$/i,date:/^(?:((0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/((19|20)[0-9]{2})))$/,time:/^(?:(?:[0-1][0-9]|2[0-3])(?::(?:[0-5][0-9])){1,2})$/,cell_phone:/^(?:[6-7][0-9]{7})$/,g_names:/^(?:(?:[A-ZÁÉÍÓÚÑ](?:'[A-Z])?[a-záéíóúäëïöüñ]+(?:(?:\.? ?[1-9][0-9]*)?(?: ?[Ee]n)?(?: ?[Dd]el?)?(?: ?[Ll][ao]s?)?)? ?)+)$/i,neonato_weight:/^(?:[1-5]\b(?:\.?[0-9]{1,3})?)$/,msg_number:/^(?:[1-9][0-9]?){1}$/,msg_content:/^(?:[^\s] ?){2,140}$/i,comments:/^(?:[^\s] ?){2,}$/i,},c=function(e){var d=e.prop("class").match(/(?:(?:(?: ?[a-z]-? ?)+)?(?:only_((?:[a-z]_?)+))(?:(?: ?[a-z]-? ?)+)?)/);return d!=null?d[1]:null;},a=function(f){var g=true,d=f==null?$('form :input[class*="only_"]:enabled'):[];c_alert=function(i,j){if(i.val().match(h)!=null&&i.closest(".form-group").hasClass("fail-check")==false){i.closest(".form-group").removeClass("has-error").addClass("has-success").find(".form-control-feedback").removeClass("fa-times").addClass("fa fa-check");}else{if(!i.prop("required")&&i.val().length==0){i.closest(".form-group").removeClass("has-error").removeClass("has-success").find(".form-control-feedback").removeClass("fa-times").addClass("fa fa-check");}else{j=j==true?false:j;i.closest(".form-group").removeClass("has-success").addClass("has-error").find(".form-control-feedback").removeClass("fa-check").addClass("fa fa-times");}}return j;};if(f!=null){var h=b[c(f)];g=c_alert(f,g);}else{for(var e=0;e<d.length;e++){var f=$(d[e]),h=b[c(f)];g=c_alert(f,g);}}return g;};check_inputs=function(){var g=a(),d=$("form select:enabled");for(var e=0;e<d.length;e++){var f=$(d[e]);if(+f.val()==-1&&f.prop("required")){f.closest(".form-group").removeClass("has-success").addClass("has-error");g=g==true?false:g;}else{f.closest(".form-group").removeClass("has-error").addClass("has-success");}}return g;};$("form").on("click focus keyup blur",':input[class*="only_"]:enabled',function(f){var d=$(this);if(f.type=="focusout"){d.val(d.val().trim());}if($.type(d.data("pattern"))=="undefined"){var g=b[c(d)];d.data("pattern",g);}else{a(d);}}).on("change","select:enabled",function(f){var d=$(this);if(d.prop("type")=="select-one"){if(+d.val()==-1&&d.prop("required")){d.closest(".form-group").removeClass("has-success").addClass("has-error");}else{d.closest(".form-group").removeClass("has-error").addClass("has-success");}}}).find("button[type=submit]").on({click:function(g){g.preventDefault();g.stopPropagation();var f=$("form"),h=check_inputs(),d=$(this);if(h){d.disable();f.submit();}else{f.find(":input:enabled").each(function(){var e=$(this);if(e.closest(".form-group").hasClass("has-error")){e.tooltip({placement:"bottom",title:"Corrija éste campo..!",}).tooltip("show").on({click:function(i){$(this).tooltip("destroy");}});}});}}});$.fn.disable=function(){this.enable(false);return this;};$.fn.enable=function(e){var d=$(this);if(arguments.length&&!e){if(d.size()==1){d.attr("disabled","disabled").find(":input").attr("disabled","disabled").end();}else{$.each(d,function(){$(this).attr("disabled","disabled").find(":input").attr("disabled","disabled").end();});}}else{if(d.size()==1){d.removeAttr("disabled").find(":input").removeAttr("disabled").end();}else{$.each(d,function(){$(this).removeAttr("disabled").find(":input").removeAttr("disabled");});}}return d;};$.fn.form2Dict=function(d){if(arguments.length&&d){return this.serializeArray();}else{var e=new Object();$.each(this.serializeArray(),function(g,f){e[f.name]=f.value;});return e;}};});